% To produce Postscript and PDF:
%    latex template; latex template; 
%    dvips -o template.ps template; ps2pdf template.ps
\documentclass[a4paper,11pt]{article}
\usepackage{mathptmx}
%\usepackage{newtxmath}   not available ? 
%\usepackage{newtxtext} []  not available ?
\usepackage[margin=30mm]{geometry}% <-------- CHANGE HERE for the global margins
\usepackage[T1]{fontenc}    % Check that ÖÄÅöäå come out ok!
\usepackage[utf8]{inputenc}
\usepackage{graphicx}
\usepackage{url} 
\usepackage{parskip}
\usepackage{listings} % for code snippets
\usepackage{authblk}
%
% should not USE  ? 
%\setlength{\parindent}{0mm} % Do not indent the 1st line of a paragraph.
%\setlength{\parskip}{3mm}   % Add space between paragraphs.

% defines my code style
\input{codestyle.tex} 

% Save some paper by stuffing more text on each page:
% A4: 210mm x 297mm, approximately 35 mm margins on every side.
\addtolength{\topmargin}{-14mm}    
\addtolength{\textheight}{20mm}    
%\addtolength{\oddsidemargin}{-10mm} 
%\addtolength{\textwidth}{14mm}     

\renewenvironment{abstract}
{\itshape \small
  \begin{center}
  \bfseries \abstractname\vspace{-.5em}\vspace{0pt}
  \end{center}
  \list{}{
    \setlength{\leftmargin}{1.5cm}%
    \setlength{\rightmargin}{\leftmargin}%
  }%
  \item\relax}
{\endlist}

% This creates the header.
\makeatletter
\renewcommand{\@oddhead}
{\fontsize{10}{12}\selectfont \hfill OpenGL ES 3.0 and WebGL 1.0 on Android platform \hfill }
\makeatother

\renewcommand{\Authfont}{\Large\normalfont}
\renewcommand{\Affilfont}{\large\itshape}

\begin{document}

%============================================================
% title
\label{Title} 
\title{OpenGL ES 3.0 and WebGL 1.0 on Android platform \vspace{1pc}}
\author{Patryk Małek \vspace{-0.7pc}}
\affil{
        University of Novi Sad\\
        Faculty of Sciences\\
        malekpatryk@gmail.com
      }
\date{\today}         % Do not print the date on the final paper!
\maketitle
% prevents page numbering on this page
\thispagestyle{empty}

%============================================================

\vspace{5pc}
\centerline{
\includegraphics[width=0.35\textwidth,height=0.35\textheight,keepaspectratio]{NoviSadLogoGray.jpg}
}
\vspace{9pc}

\begin{abstract}
\label{Abstract}
\input{./tex_files/abstract}
\pagebreak

%============================================================

%\tableofcontents

%============================================================

\section{Introduction} 
\input{./tex_files/introduction.tex}

%============================================================

\pagebreak[3]
\section{OpenGL ES \& WebGL}

% reference to section examplae
% (Sec.~\ref{sec:emphasis})
%------------------------------------------------------------

\pagebreak[3] 
\subsection{OpenGL ES}

\subsubsection{New features in OpenGL ES 3.0}
\input{./tex_files/new_funct_opengles_3.tex}

\subsubsection{Interaction with OpenGL ES on Android}
Most of the API calls using OpenGL ES on Android are the same as for the desktop version of OpenGL. 
To start working with OpenGL ES one can require OpenGL functionality in the manifest file to exclude devices that do not support OpenGL ES in the particular version.

\lstinputlisting[caption={Requesting OpenGL ES in Android Manifest file.}]{./code/manifest_require_opengles.xml}

Writing an application that uses OpenGL for all or part of its rendering one would use \emph{GLSurfaceView} \cite{android_glsurfaceview} as a base for its application.
It is a specialized view container that enables rendering with use of OpenGL calls on devices with Android OS where \emph{GLSurfaceView.Renderer} controls what is drawn on that view.

GLSurfaceView among many other supplies the following features:
\begin{itemize}
\item Manages a surface, which is a special piece of memory that can be composited into the Android view system.
\item Manages an EGL display, which enables OpenGL to render into a surface.
\item Accepts a user-provided Renderer object that does the actual rendering.
\item Supports both on-demand and continuous rendering.
\end{itemize}

Below, one can observe a minimal implementation that would allow interaction with GLSurfaceView.

\lstinputlisting[caption={Minimal implementation of Android's \emph{Activity class} \cite{android_activity} that would use GLSurfaceView.}]{./code/openglesactivity.java}

One can also check what version is supported on the device with adding this to the code snippet presented above:

\lstinputlisting[caption={Checking OpenGL ES version support on the device.}]{./code/check_opengl_es_version.java}



\pagebreak[3] 
\subsection{WebGL}

%============================================================

\clearpage 
\section{Programming Examples} 

In this section we will try to demonstrate the power of OpenGL ES API 

\lstinputlisting[caption={Exemplar piece of code in Java using OpenGL ES API}]{code/example1.java}

%============================================================

\section{Summary} 

%============================================================

\clearpage
\label{Bibliography} 
%
\bibliographystyle{plain}
\footnotesize{ \bibliography{bibliography} }
% In that case, remember to run bibtex:
% latex template; bibtex template; latex template; latex template; 

\end{document}